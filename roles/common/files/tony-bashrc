#
# ~/.bashrc
#

# If not running interactively, don't do anything
[[ $- != *i* ]] && return

# longer history file
export HISTSIZE=10000
export HISTFILESIZE=10000
shopt -s histappend

# don't put duplicate lines or lines starting with space in the history
HISTCONTROL=ignoreboth

# check the window size after each command and, if necessary,
# update the values of LINES and COLUMNS.
shopt -s checkwinsize

# default editor
export VISUAL=vim
export EDITOR="$VISUAL"

# PS1 prompt and term
PS1='\[\e[38;5;39m\]\u\[\e[38;5;45m\]@\[\e[38;5;51m\]\h:\[\e[38;5;195m\]\w\[\033[0m\]$ '
TERM=xterm-256color

# enable color support of ls and also add handy aliases
if [ -x /usr/bin/dircolors ]; then
  test -r ~/.dircolors && eval "$(dircolors -b ~/.dircolors)" || eval "$(dircolors -b)"

  alias ls='ls --color=auto'
  alias grep='grep --color=auto'
fi

# bash aliases
alias genpw='openssl rand -base64 12 | head -c 16; echo'
alias wanip='curl -s --max-time 10 --ipv4 ifconfig.me; echo'

# bashrc override
if [ -f ~/.bashrc_override ]; then
  source ~/.bashrc_override
fi

# set PATH so it includes user's private bin if it exists
if [ -d "$HOME/bin" ] ; then
  PATH="$HOME/bin:$PATH"
fi

# set PATH so it includes user's private bin if it exists
if [ -d "$HOME/.local/bin" ] ; then
  PATH="$HOME/.local/bin:$PATH"
fi

# bash completion
if ! shopt -oq posix; then
  if [ -f /usr/share/bash-completion/bash_completion ]; then
    source /usr/share/bash-completion/bash_completion
  elif [ -f /etc/bash_completion ]; then
    source /etc/bash_completion
  fi
fi
